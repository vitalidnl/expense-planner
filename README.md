# Expense Planner (Demo)

A simple expense planning application with recurrence support, built with .NET and React.

## Project Structure

- `backend/` — .NET 10 API with layered architecture (Domain, Application, DataAccess, Api)
- `frontend/` — React + TypeScript + Tailwind CSS UI
- `docs/` — Architecture and task documentation

## Prerequisites

- **.NET 10 SDK** (or later)
- **Node.js 18+** and **npm**
- **Git**

## Running Locally

### Backend

From the repo root:

1. Restore/build:
   ```bash
   dotnet build backend/ExpensePlanner.sln
   ```

2. Run the API (HTTP profile recommended for local dev):
   ```bash
   dotnet run --project backend/src/ExpensePlanner.Api --launch-profile http
   ```

   The API will be available at `http://localhost:5147`.

   If you prefer HTTPS:
   ```bash
   dotnet run --project backend/src/ExpensePlanner.Api --launch-profile https
   ```
   This listens on `https://localhost:7024` (and also `http://localhost:5147`).

   If you hit certificate errors on Windows, run:
   ```bash
   dotnet dev-certs https --trust
   ```

### Frontend

1. Navigate to the frontend directory:
   ```bash
   cd frontend
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Start the development server:
   ```bash
   npm run dev
   ```

   The UI will be available at `http://localhost:5173` (or as shown in the terminal).

   Note: during `npm run dev`, the frontend proxies API requests (e.g. `/transactions`, `/forecast`, `/reset`) to `http://localhost:5147` via Vite config.

## Date storage

- Data is persisted to CSV files under `backend/src/ExpensePlanner.Api/data/` by default (configurable via `Storage:Csv:RootPath`).

## Development Workflow

### Formatting & Linting

**Backend:**
```bash
cd backend
dotnet format
```

**Frontend:**
```bash
cd frontend
npm run lint
npm run format
```

## Testing

Run tests from the backend directory:
```bash
cd backend
dotnet test
```

## Documentation

See the `docs/` folder for:
- `01-requirements.md` — Feature and functional requirements
- `02-architecture.md` — System design and layering
- `03-implementation-plan.md` — Overall approach
- `04-tasks.md` — Task breakdown by milestone

## Prompt history

History of prompts located at `copilot-session-log` folder. Generated by custom MCP server from https://github.com/vitalidnl/copilot-session-logger.

Specification/tasks generation - [`copilot-session-log/session_13-40-10-854.md`](copilot-session-log/session_13-40-10-854.md), [`copilot-session-log/session_21-57-05-444.md`](copilot-session-log/session_21-57-05-444.md)

Github issues management - [`copilot-session-log/session_16-16-15-124.md`](copilot-session-log/session_16-16-15-124.md)

### Insights

Structured and not too long prompts works well enough.
Short prompts without clarifying details in complex condition allows model/agent to hallucinate.
Prompts containing details going from common concepts to detailed works better.

## Tools/models/MCP used

MCP
- Github MCP server was used to persist source code and issues by agents on github.
- copilot-session-logger MCP server was used for saving of sessions into files.

Models

For simple or initial tasks Claude Haiku 4.5 and GPT-5 mini were used. For creating software specification, architecture and task break-down GPT-5.2 was used. For consious implementing Claude Sonnet 4.6 and GPT-5.3-Codex (last one worked better for me).

Tools

VSCode was the IDE to code and interact with model. GitHub website was used to create custom agents.
